<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Lyle Klyne &#8211; Physical Computational Prototyping</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="This post covers my introduction to Arduino and physical computing. I did five simple builds to learn the basics of Arduino and where to find development resources.">
    <meta name="author" content="Lyle Klyne">
    <meta name="keywords" content="blog, prototyping, process, physical">
    <link rel="canonical" href="http://lyleklyne.com/physical-computing-prototyping/">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/stylish.css" type="text/css">
    <link href="/css/zoom.css" rel="stylesheet">

    <!-- Fonts -->
    <link href='//fonts.googleapis.com/css?family=Lato:900,300' rel='stylesheet' type='text/css'>

    
      <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    

    <!-- Javascript -->
    <script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
    <script type="text/javascript" src="/js/js.js"></script>

    <script type="text/javascript" src="/js/jq-sticky-anything.min.js"></script>
    <script type="text/javascript" src="/js/transition.js"></script>
    <script type="text/javascript" src="/js/zoom.min.js"></script>

    <!--<script type="text/javascript" src="/js/html2canvas.js"></script>-->
    <!--<script type="text/javascript" src="/js/html2canvas.svg.js"></script>-->
    <!--&lt;!&ndash;<script type="text/javascript" src="/js/StackBlur.js"></script>  &ndash;&gt;-->
  
    <!--[if lt IE 9]>
            <script src="../js/html5shiv.js"></script>
        <![endif]-->


    <!-- Open Graph -->
    <!-- From: https://github.com/mmistakes/hpstr-jekyll-theme/blob/master/_includes/head.html -->
    <meta property="og:locale" content="en_US">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Physical Computational Prototyping">
    <meta property="og:description" content="Design, development, documenting the process.">
    <meta property="og:url" content="http://lyleklyne.com/physical-computing-prototyping/">
    <meta property="og:site_name" content="Lyle Klyne">

    <!-- Google Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60172340-1', 'auto');
    ga('send', 'pageview');

    </script>
</head>

<body class="">
  <div class="site-wrap">
    
<div class="header">
	<header class="site-header px2 px-responsive">
	  <div class="mt1 wrap">
		<div class="measure">
			<div class="fixed-header">
				<a href="http://lyleklyne.com" class="site-title">Lyle Klyne</a>
				<nav id="site-nav-right" class="site-nav right">
					<a href="/" id="home-url">Work</a>
<a href="/blog" class="">Blog</a>
<a href="/about/" class="">About</a>



				</nav>
			</div>
			<div class="clearfix"></div>
		</div>
	  </div>
	</header>
</div>

    <div class="post p2 p-responsive wrap" role="main">
      <div class="measure">
        


<div class="post-header mb2">
  <h1>Physical Computational Prototyping</h1>
  <span class="post-meta">Mar 3, 2016</span><br>
  
  <span class="post-meta small">9 minute read</span>
</div>

<article class="post-content">
  <p class="regular">
	This post covers my introduction to Arduino and physical computing. I did five simple builds to learn the basics of Arduino as well as explore where to find development resources. This post will provide brief walkthroughs, sources, and documentation of each of the five builds. I’ll also include some commentary about the build process, and what I found surprising.
</p>

<p class="center"> * * * </p>

<h2 id="arduino">Arduino</h2>
<p>Arduino is an open-source prototyping platform thats designed for accessiblity. The board can read inputs from varios digital and analog sensors as well as talk to the internet. The board can act on this input by turning on a light, a motor, or making a post online. They are a powerful prototyping tool because they are cheap, easy-to-use, and relatively powerful.</p>

<h2 id="photocell">01: Photocell</h2>
<p>The  first task is a simple photocell that delivers an analog reading of the ambient light. The circuit is quite simple. This was fun to play with, and I can imagine some great applications for the photo cell on its own, but coupled with a laser it could be a powerful tool. To create the build, I consulted the extensive <a href="https://learn.adafruit.com/photocells/using-a-photocell">Adafruit Photocell tutorial</a>.</p>

<p>I was surprised at how well calibrated the photocell was to indoor light levels. Directly under a light bulb, the analog reading was around 900. Placing my  finger over the sensor caused this reading to drop to around 300, but I had expected a greater drop. It wasn’t until I placed an opaque bag over the sensor that I was able to get it below 100.</p>

<h3 id="diagram">Diagram</h3>

<p><img src="/images/blog/physical-computing/photocell-diagram.gif" alt="Joystick Sketch" /></p>

<h3 id="sketch-code">Sketch Code</h3>

<pre><code>int photocellPin = 0;     // the cell and 10K pulldown are connected to a0
int photocellReading;     // the analog reading from the sensor divider
void setup(void) {
  // Send debugging information via the Serial monitor
  Serial.begin(9600);   
}
 
void loop(void) {
  photocellReading = analogRead(photocellPin);  
 
  Serial.print("Analog reading = ");
  Serial.println(photocellReading);     // the raw analog reading

  // Wait 0.5 seconds between each reading
  delay(500);
}
</code></pre>

<h3 id="output">Output</h3>
<p><img src="/images/blog/physical-computing/photocell-output.png" alt="PHotocell Output" /></p>

<h2 id="hall-effect-sensor">02: Hall Effect Sensor</h2>
<p>The hall effect sensor has the ability to detect if a magnet is present. When the output voltage of the Hall Effect Sensor is high, there is a magnet present. With my build, this translated to a binary output, with 1 being no magnet present and a 0 indicating a magnetic field.
I can imagine quite a few uses for this, including a sensor that determines if a door open is open or closed, or a speedometer on a bike wheel.</p>

<p>The example code was modified and simplied from the <a href="http://www.hobbytronics.co.uk/arduino-tutorial11-hall-effect">Hobby Electronics Hall Effect Tutorial</a>.</p>

<h3 id="diagram-1">Diagram</h3>

<p><img src="/images/blog/physical-computing/hall-effect-diagram.jpg" alt="Hall Effect Diagram" /></p>

<h3 id="sketch-code-1">Sketch Code</h3>

<pre><code>const int hallPin = 12;    
int hallState = 0;      
void setup() {
    
  // initialize the hall effect sensor pin as an input:
  pinMode(hallPin, INPUT);    
  Serial.begin(9600); 
}

void loop(){
  // read the state of the hall effect sensor:
  hallState = digitalRead(hallPin);

  // print out the 0 or 1 to the console
  Serial.println(hallState);
  delay(500);

}
</code></pre>

<h3 id="output-1">Output</h3>
<p><img src="/images/blog/physical-computing/hall-effect-output.png" alt="Joystick Sketch" /></p>

<h2 id="disco-countdown">03: Disco Countdown</h2>
<p>For the third task I created an “interesting” combination of flashing lights using three independently controlled LEDs. I used two green LEDs and two RGB LEDs to create a countdown effect. The green LEDs alternate at an increasingly rapid rate.
After a short period of time  flashing rapidly, the two RGB LEDs fade through all colors. I was surprised by how easy to control the RGB LEDs, and hope to put them to greater use for further projects.</p>

<p>Initially I was trying to handle the countdown with a for loop. Although this appeared to make sense, I found myself trying to establish timing through trial and error. It was difficult to have the iterating integer drop quickly enough without hitting a negative, something that would cause the green LEDs to remain illuminated and never enter disco mode. This was obviously a tragedy, and I was stuck until a classmate suggested a while loop.</p>

<p>The code for blinking LEDs was modi ed from the Arduino “Blink” tutorial, and the code for a smooth fade between colors was modified from <a href="http://yaab-arduino.blogspot.com/2015/01/ rgb-led-fading-colors-arduino.html">this blog post</a>. The schematic was (obviously) hand drawn.</p>

<h3 id="diagram-2">Diagram</h3>

<p><img src="/images/blog/physical-computing/disco-diagram.jpg" alt="Disco Countdown Diagram" /></p>

<h3 id="sketch-code-2">Sketch Code</h3>

<pre><code>#define RED_PIN 9      // where the red pin is connected to
#define GREEN_PIN 10   // where the green pin is connected to
#define BLUE_PIN 11    // where the blue pin is connected to
#define DELAY 1       // 2ms internal delay; increase for slower fades
#define SPEED 20       // change the speed of the countdown
int startSpeed = 1000;

void setup() {

  // variables for the disco ball
  pinMode(GREEN_PIN, OUTPUT);
  pinMode(BLUE_PIN, OUTPUT);
  pinMode(RED_PIN, OUTPUT);

  // variables for the countdown
  pinMode(12, OUTPUT);
  pinMode(8, OUTPUT);

  Serial.begin(9600);
}

void loop() {

  analogWrite(RED_PIN, 255);
  analogWrite(GREEN_PIN, 255);
  analogWrite(BLUE_PIN, 255);

  while (startSpeed &gt; 8) {

    // for (int i = 0; i &lt; 20; i++)
    // int delaySpeed = 500 - (50 + SPEED * i);
    startSpeed = startSpeed / 2;
    digitalWrite(8, HIGH);   // turn the LED on (HIGH is the voltage level)
    delay(startSpeed);              // wait for a second
    digitalWrite(8, LOW);    // turn the LED off by making the voltage LOW
    delay(startSpeed);
    digitalWrite(12, HIGH);   // turn the LED on (HIGH is the voltage level)
    delay(startSpeed);              // wait for a second
    digitalWrite(12, LOW);    // turn the LED off by making the voltage LOW
    delay(startSpeed);
    Serial.println(startSpeed);

    startSpeed = startSpeed - 7;
  }

  // infinate party mode
  while (true) {
    for (int i = 0; i &lt; 10; i++) {
      // fade from green to red
      for (int i = 0; i &lt; 255; i++) {
        analogWrite(RED_PIN, i);
        analogWrite(GREEN_PIN, 255 - i);
        analogWrite(BLUE_PIN, 0);
        delay(DELAY);
      }

      // fade from red to blue
      for (int i = 0; i &lt; 255; i++) {
        analogWrite(RED_PIN, 255 - i);
        analogWrite(GREEN_PIN, 0);
        analogWrite(BLUE_PIN, i);
        delay(DELAY);
      }

      // fade from blue to green
      for (int i = 0; i &lt; 255; i++) {
        analogWrite(RED_PIN, 0);
        analogWrite(GREEN_PIN, i);
        analogWrite(BLUE_PIN, 255 - i);
        delay(DELAY);
      }
    }
  }
}
</code></pre>

<h3 id="output-2">Output</h3>
<p><img src="/images/blog/physical-computing/disco-output.png" alt="Disco Countdown Output" /></p>

<h2 id="light-dimmer-switch">04: Light Dimmer Switch</h2>

<p>The goal of this project was to create an LED that could be dimmed with a potentiometer using pulse width modulation (PWM). The <a href="https://www.arduino.cc/en/Tutorial/PWM">arduino.cc PWM tutorial</a> was crucial to my understanding of this concept and building the sketch. In short, by turning an LED on and off at rapid intervals, it can trick the human eye into seeing a fade in brightness. I was suprised at how effective this was and how easy it was to setup.</p>

<p>The <a href="https://www.arduino.cc/en/tutorial/potentiometer">Potentiometer tutorial on arduino.cc</a> was also crucial to my understanding of this sketch. I found it partularly useful that their example code indicated why the resulting analog output had to be divided by 4 in order to be an effective method of control.</p>

<h3 id="diagram-3">Diagram</h3>

<p><img src="/images/blog/physical-computing/dimmer-diagram.png" alt="Light Dimmer Diagram" /></p>

<h3 id="sketch-code-3">Sketch Code</h3>

<pre><code>int led = 9;           // the PWM pin the LED is attached to
int brightness = 0;    // how bright the LED is
int fadeAmount = 5;    // how many points to fade the LED by
int analogPin = 3;   // potentiometer connected to analog pin 3
int val = 0;         // variable to store the read value

// the setup routine runs once when you press reset:
void setup() {
  // declare pin 9 to be an output:
  pinMode(led, OUTPUT);
}

// the loop routine runs over and over again forever:
void loop() {
  // 
  val = analogRead(analogPin);   // read the input pin

  // set the brightness of pin 9:
  analogWrite(led, brightness);

  // change the brightness for next time through the loop:
  brightness = val / 4;

  // reverse the direction of the fading at the ends of the fade:
  if (brightness == 0 || brightness == 255) {
    fadeAmount = -fadeAmount ;
  }
  // wait for 30 milliseconds to see the dimming effect
  delay(30);
}
</code></pre>

<h3 id="output-3">Output</h3>
<p><img src="/images/blog/physical-computing/dimmer-output.png" alt="Light Dimmer Output" /></p>

<h2 id="doorbell">05: Doorbell</h2>

<p>The doorbell I created is more akin to a morse code messenger than an actual doorbell. It’s quite simple. When the button is pressed, the buzzer emits a tone, when it is not pressed, the buzzer does not. I had a more diffcult time getting this one set up, partly due to an error on the <a href="http://mbeded.blogspot.com/2012/04/controlling- buzzer-with-push-button.html">tutorial</a> I found. I began troubleshooting this error by disconnecting the buzzer and logging the button status to the console. It was working as expected. Ultimately I discovered the issue was an improperly wired buzzer as well as an issue with my code.</p>

<h3 id="diagram-4">Diagram</h3>

<p><img src="/images/blog/physical-computing/buzzer-diagram.jpg" alt="Buzzer Diagram" /></p>

<h3 id="sketch-code-4">Sketch Code</h3>

<pre><code>const int buttonPin = 2;    
const int buzzerPin =  3;      


int buttonState = 0;         

void setup() {
  
  pinMode(buzzerPin, OUTPUT); 
       
  pinMode(buttonPin, INPUT);     
}

void loop(){

  buttonState = digitalRead(buttonPin);
  
 if (buttonState == HIGH) {     
    tone(buzzerPin, 300);  
  } 
  else {
    noTone(buzzerPin); 
  }
}
</code></pre>

<h3 id="output-4">Output</h3>
<p><img src="/images/blog/physical-computing/buzzer-output.png" alt="Buzzer Output" /></p>


</article>




<!-- Next and previous posts -->
<div class="page-navigation">
   
    <a class="prev" href="/model-prototyping/">« Previous: Model Prototyping</a>
  

  
      <a class="next" href="/laser-cutting/">Next: Laser Cutting &raquo;</a>
  
</div>





      </div>
    </div>
  </div>

  <footer class="footer">
  <div class="p2 wrap">
    <div class="measure mt1 center">
      <small>
        
        <div class="social-icons">
  <div class="center">
    

    <!--
    <a class="fa fa-rss" href="/feed.xml"></a>
    -->

    
      <a class="fa fa-twitter fa-2x" href="https://twitter.com/lyleklyne"></a>
    
    
    
      <a class="fa fa-instagram fa-2x" href="https://instagram.com/lyleklyne"></a>
    
    
    
      <a class="fa fa-envelope-o fa-2x" href="mailto:lyle.klyne@gmail.com"></a>
    
    
  </div>
  <div class="right">
    
    
    
  </div>
</div>
<div class="clearfix"></div>

        Created by Lyle Klyne.<br>
        All rights reserved.
      
      </small>
    </div>
  </div>
</footer>


<!-- Google Analytics script -->

<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-60172340-1', 'auto');
ga('send', 'pageview');

</script>


<!-- Main JS -->

<script type="text/javascript">

  // Randomly position shapes


  $( document ).ready(function() {
    var bodyWidth = document.body.clientWidth
    var bodyHeight = document.body.clientHeight;

    $('.random').each(function() {
      var randPosX = Math.floor((Math.random() * bodyWidth));
      var randPosY = Math.floor((Math.random() * bodyHeight));
      var randomTime = Math.floor((Math.random() * 3000)) + 1000;
      $(this).css('left', randPosX);
      $(this).css('top', randPosY);
      $(this).addClass("loaded");

    });
    $('.random').each(function() {
      $(this).addClass("loaded");

    });
  });

  /////////////////////////
  // Background
  /////////////////////////

  var lFollowX3 = 0,
          lFollowY3 = 0,
          x3 = 0,
          y3 = 0,
          z3 = 0,
          friction3 = 1 / 30;

  function moveBackground() {
    x3 += (lFollowX3 - x3) * friction3;
    y3 += (lFollowY3 - y3) * friction3;
    z3 = x3 + y3 * - 2 ;

    translate = 'translate(' + (x3 * -1) + 'px, ' + (y3 * -1) + 'px) rotate(' + z3 + 'deg)';

    $('.parallax-back').css({
      '-webit-transform': translate,
      '-moz-transform': translate,
      'transform': translate
    });

    window.requestAnimationFrame(moveBackground);
  }

  $(window).on('mousemove click', function(e) {

    var lMouseX = Math.max(-100, Math.min(1000, $(window).width() / 2 - e.clientX));
    var lMouseY = Math.max(-100, Math.min(1000, $(window).height() / 2 - e.clientY));


    lFollowX3 = (5 * lMouseX) / 100; // 100 : 12 = lMouxeX : lFollow
    lFollowY3 = (2.5 * lMouseY) / 100;

  });

  moveBackground();


  /////////////////////////
  // middle
  /////////////////////////

  var lFollowX = 0,
          lFollowY = 0,
          x = 0,
          y = 0,
          z = 0,
          friction = 1 / 30;

  function moveMiddle() {
    x += (lFollowX - x) * friction;
    y += (lFollowY - y) * friction;
    z = x + y * - 2 ;

    translate = 'translate(' + (x * -1) + 'px, ' + (y * -1) + 'px) rotate(' + z + 'deg)';

    $('.parallax-middle').css({
      '-webit-transform': translate,
      '-moz-transform': translate,
      'transform': translate
    });

    window.requestAnimationFrame(moveMiddle);
  }

  $(window).on('mousemove click', function(e) {

    var lMouseX = Math.max(-100, Math.min(1000, $(window).width() / 2 - e.clientX));
    var lMouseY = Math.max(-100, Math.min(1000, $(window).height() / 2 - e.clientY));


    lFollowX = (10 * lMouseX) / 100; // 100 : 12 = lMouxeX : lFollow
    lFollowY = (5 * lMouseY) / 100;

  });

  moveMiddle();


  /////////////////////////
  // Foreground
  /////////////////////////

  var lFollowX2 = 0,
          lFollowY2 = 0,
          x2 = 0,
          y2 = 0,
          z2 = 0,
          friction2 = 1 / 30;

  function moveForeground() {
    x2 += (lFollowX2 - x2) * friction2;
    y2 += (lFollowY2 - y2) * friction2;
    z2 = x2 + y2 * - 2 ;

    translate = 'translate(' + (x2 * -1) + 'px, ' + (y2 * -1) + 'px) rotate(' + z2 + 'deg)';

    $('.parallax-front').css({
      '-webit-transform': translate,
      '-moz-transform': translate,
      'transform': translate
    });

    window.requestAnimationFrame(moveForeground);
  }

  $(window).on('mousemove click', function(e) {

    var lMouseX = Math.max(-100, Math.min(1000, $(window).width() / 2 - e.clientX));
    var lMouseY = Math.max(-100, Math.min(1000, $(window).height() / 2 - e.clientY));


    lFollowX2 = (20 * lMouseX) / 100; // 100 : 12 = lMouxeX : lFollow
    lFollowY2 = (10 * lMouseY) / 100;

  });

  moveForeground();


</script>

</body>
</html>
